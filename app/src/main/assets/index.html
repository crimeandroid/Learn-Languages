<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="IE=edge, chrome=1" http-equiv="X-UA-Compatible">
  <title>Google Text to Speech</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"
        rel="stylesheet">
  <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css"
        rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"
          type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"
          type="text/javascript"></script>
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>
<!-- Page Content -->
<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1">
      <input class="form-control" id="words" type="text" value="大家好，很高興見到各位！">
      <input class="form-control" id="tl" type="hidden" value="ru_RU">
      <button class="form-control btn btn-default" id="play">Play</button>
      <audio id="player" src="#"></audio>
    </div>
  </div>
  <div class="row">
    <div class="col-md-10 col-md-offset-1">
      <select id="lang-first">
        <option>-- Select one --</option>
      </select>
      <select id="lang-second">
        <option>-- Select one --</option>
      </select>
      <button onclick="constructTable('#table')">Generate</button>
    </div>
    <div class="data">
      <table align="center"
             border="1" id="table">
      </table>
    </div>
  </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript">
        jQuery.noConflict();
        (function($)
        {
            $(function()
            {
                var words = "" + location.search;
                words = decodeURIComponent(words.split('&')[0].replace(
                    "?q=", ""));
                if (words)
                {
                    $("#words").val(words);
                }
                var tl = "" + location.search;
                tl = decodeURIComponent(tl.split('&')[1].replace(
                    "tl=", ""));
                if (tl)
                {
                    $("#tl").val(tl);
                }
                $("#play").on("click", function()
                {
                    var words = "" + $("#words").val();
                    var tl = "" + $("#tl").val();
                    $("audio#player").attr('src',
                        'http://translate.google.com/translate_tts?ie=UTF-8&client='+tl+'&tl='+tl+'&q=' +
                        words).trigger("play");
                });
            });
        })(jQuery);
function readTextFile(file, callback) {
    var rawFile = new XMLHttpRequest();
    rawFile.overrideMimeType("application/json");
    rawFile.open("GET", file, true);
    rawFile.onreadystatechange = function() {
        if (rawFile.readyState === 4 && rawFile.status == "200") {
            callback(rawFile.responseText);
        }
    }
    rawFile.send(null);
<!--    fetch(file)-->
<!--  .then(response => response.json())-->
<!--  .then(callback());-->
}

function constructTable(selector) {
    readTextFile("data.json", function(text){
        var list = JSON.parse(text);
        console.log(list);
        var cols = Headers(list, selector);
        for (var i = 0; i < list.languages[0].data.length; i++) {
            var row = $('<tr/>');
            for (var colIndex = 0; colIndex < cols.length; colIndex++)
            {
            var l = list.languages[colIndex];
            var w = l.data[i];
                var val = w.value;

                if (val == null) val = "";
                    row.append($('<td/>').append( "<p><a href='index.html?q="+val+"&tl="+l.locale+"'>"+val+"</a></p>"));
            }
            $(selector).append(row);
        }
      });
    }
        function Headers(list, selector) {
            var columns = [];
            var header = $('<tr/>');
            for (var i = 0; i < list.languages.length; i++) {
                var row = list.languages[i];
                        header.append($('<th/>').html(row.name));
columns.push(row.name);
<!--                for (var k in row) {-->
<!--                    if ($.inArray(k, columns) == -1) {-->
<!--                        columns.push(k.name);-->
<!--                        // Creating the header-->
<!--                    }-->
<!--                }-->
            }
            $(selector).append(header);
            return columns;
        }

</script>
</body>
</html>